<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>NFT marker example with Three.js</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=1">
	<link rel="stylesheet" href="../css/video-style.css">
</head>
<body class="loading">
	<div id="loading" >
			<img  src="../Data/logo.gif"/>
			<span class="loading-text">Loading, please wait</span>
	</div>
  <!--
  ==================
  STATS
  ==================
  -->

      <div id="stats" class="ui stats">

          <div id="stats1" class="stats-item">
              <p class="stats-item-title">
                  Main
              </p>
          </div>

          <div id="stats2" class="stats-item">
              <p class="stats-item-title">
                  Worker
              </p>
          </div>

      </div>
      <!--
      ==================
      CAMERA VIDEO & CANVAS
      ==================
      -->

          <div id="app">
              <video
                  loop
                  autoplay
                  muted
                  playsinline
                  id="arvideo">
                  <source src="../Data/video.mp4" type="video/mp4">
              </video>

              <canvas  style="position: absolute; left:0; top:0" id="canvas"></canvas>
          </div>

          <a
              href="https://raw.githubusercontent.com/artoolkit/artoolkit5/master/doc/Marker%20images/pinball.jpg"
              class="ui marker"
              target="_blank">
              ðŸ–¼ Marker Image
          </a>


<button id="startvideo">PLAY VIDEO</button>
<button id="process">START PROCESSING</button>

<script src="../js/third_party/three.js/stats.min.js"></script>
<script src="../js/third_party/three.js/three.min.js"></script>
<script src="threejs_wasm_worker.js"></script>

<script>

/**
 * STATS
 */
let statsMain = new Stats();
statsMain.showPanel( 0 ); // 0: fps, 1: ms, 2: mb, 3+: custom
document.getElementById( 'stats1' ).appendChild( statsMain.dom );

let statsWorker = new Stats();
statsWorker.showPanel( 0 ); // 0: fps, 1: ms, 2: mb, 3+: custom
document.getElementById( 'stats2' ).appendChild( statsWorker.dom );


/**
 * APP / ELEMENTS
 */
let container = document.getElementById( 'app' );
let video = document.getElementById( 'arvideo' );
let canvas = document.getElementById( 'canvas' );

    document.getElementById("startvideo").onclick = () => {
        video.play();
    };
    video.play();
    document.getElementById("process").onclick = () => {

        start(container, markers["pinball"], video, video.videoWidth, video.videoHeight, canvas, () => statsMain.update(), () => statsWorker.update(), null);

    };
</script>
</body>
</html>
